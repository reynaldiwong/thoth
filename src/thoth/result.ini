╭───────────────────────────────────────────────────────────────────────────────────────────────── Thoth ──────────────────────────────────────────────────────────────────────────────────────────────────╮
│                                                                                                                                                                                                          │
│  Based on analyzing the infrastructure of Project Hermes, here's the infrastructure flow diagram:                                                                                                        │
│                                                                                                                                                                                                          │
│  ```                                                                                                                                                                                                     │
│  PROJECT HERMES (hermes-dev-416304)                                                                                                                                                                      │
│  Region: asia-southeast2                                                                                                                                                                                 │
│                                                                                                                                                                                                          │
│  ┌─────────────────────────────────────────────────────────────────────────┐                                                                                                                             │
│  │                          NETWORK ARCHITECTURE                            │                                                                                                                            │
│  └─────────────────────────────────────────────────────────────────────────┘                                                                                                                             │
│                                                                                                                                                                                                          │
│  NETWORKS (3):                                                                                                                                                                                           │
│  ├─ vpc-hermes-dev (Primary VPC)                                                                                                                                                                         │
│  │  ├─ Subnets:                                                                                                                                                                                          │
│  │  │  ├─ app-subnet-hermes-dev (asia-southeast2)                                                                                                                                                        │
│  │  │  ├─ lb-reserve-subnet (asia-southeast2)                                                                                                                                                            │
│  │  │  └─ gke-hermes-ddt-dev-nodes (asia-southeast2)                                                                                                                                                     │
│  │  │                                                                                                                                                                                                    │
│  │  └─ VPC Peering:                                                                                                                                                                                      │
│  │     ├─ ↔ athena-dev (vpc-athena-dev) - ACTIVE                                                                                                                                                         │
│  │     ├─ ↔ athena-prod (vpc-athena-prod) - ACTIVE                                                                                                                                                       │
│  │     ├─ ↔ icarus-dev (vpc-icarus-dev) - ACTIVE                                                                                                                                                         │
│  │     └─ ↔ servicenetworking (Google Services) - ACTIVE                                                                                                                                                 │
│  │                                                                                                                                                                                                       │
│  ├─ default (Auto-created VPC)                                                                                                                                                                           │
│  │  └─ Multi-region auto subnets                                                                                                                                                                         │
│  │                                                                                                                                                                                                       │
│  └─ blackbox-vpc                                                                                                                                                                                         │
│     └─ subnet-blackbox (asia-southeast2)                                                                                                                                                                 │
│                                                                                                                                                                                                          │
│  ┌─────────────────────────────────────────────────────────────────────────┐                                                                                                                             │
│  │                         LOAD BALANCERS (4)                               │                                                                                                                            │
│  └─────────────────────────────────────────────────────────────────────────┘                                                                                                                             │
│                                                                                                                                                                                                          │
│  1. fe-lb-app-tools (Internal)                                                                                                                                                                           │
│     • IP: 10.10.0.123                                                                                                                                                                                    │
│     • Type: INTERNAL_MANAGED                                                                                                                                                                             │
│     • Protocol: HTTP (Port 80)                                                                                                                                                                           │
│     • Network: vpc-hermes-dev                                                                                                                                                                            │
│                                                                                                                                                                                                          │
│  2. fe-lb-app-tools-pub-http (External)                                                                                                                                                                  │
│     • IP: 34.101.42.49                                                                                                                                                                                   │
│     • Type: EXTERNAL_MANAGED                                                                                                                                                                             │
│     • Protocol: HTTP (Port 80)                                                                                                                                                                           │
│                                                                                                                                                                                                          │
│  3. fe-lb-app-tools-pub-https (External)                                                                                                                                                                 │
│     • IP: 34.101.42.49 (Same as HTTP)                                                                                                                                                                    │
│     • Type: EXTERNAL_MANAGED                                                                                                                                                                             │
│     • Protocol: HTTPS (Port 443)                                                                                                                                                                         │
│                                                                                                                                                                                                          │
│  4. psc-internal-load-balancer (PSC)                                                                                                                                                                     │
│     • IP: 10.10.0.14                                                                                                                                                                                     │
│     • Status: CLOSED                                                                                                                                                                                     │
│     • Connection to: nobu-digital-security                                                                                                                                                               │
│                                                                                                                                                                                                          │
│  ┌─────────────────────────────────────────────────────────────────────────┐                                                                                                                             │
│  │                    COMPUTE INSTANCES (38 Total)                         │                                                                                                                             │
│  └─────────────────────────────────────────────────────────────────────────┘                                                                                                                             │
│                                                                                                                                                                                                          │
│  RUNNING (27):                                                                                                                                                                                           │
│                                                                                                                                                                                                          │
│  DevOps & Infrastructure Layer:                                                                                                                                                                          │
│  ├─ bastion-pritunl (e2-small) - VPN Gateway                                                                                                                                                             │
│  │  • External IP: 34.101.137.59                                                                                                                                                                         │
│  │  • Internal IP: 10.10.0.5                                                                                                                                                                             │
│  │                                                                                                                                                                                                       │
│  ├─ app-rundeck (e2-medium) - Automation & Orchestration                                                                                                                                                 │
│  │  • Internal IP: 10.10.0.8                                                                                                                                                                             │
│  │  • SA: hermes-rundeck-tf-sa (Full Cloud Platform Access)                                                                                                                                              │
│  │                                                                                                                                                                                                       │
│  ├─ app-jenkin (n2-custom-6-8192) - CI/CD Master                                                                                                                                                         │
│  │  • External IP: 34.128.113.62                                                                                                                                                                         │
│  │  • Internal IP: 10.10.0.9                                                                                                                                                                             │
│  │                                                                                                                                                                                                       │
│  ├─ app-jenkins-slave (n2-standard-2) - CI/CD Worker                                                                                                                                                     │
│  │  • Internal IP: 10.10.0.111                                                                                                                                                                           │
│  │                                                                                                                                                                                                       │
│  ├─ app-grafana (e2-medium) - Monitoring Dashboard                                                                                                                                                       │
│  │  • Internal IP: 10.10.0.25                                                                                                                                                                            │
│  │  • Scheduled: devops-services                                                                                                                                                                         │
│  │                                                                                                                                                                                                       │
│  ├─ app-thanos (e2-medium) - Long-term Metrics Storage                                                                                                                                                   │
│  │  • Internal IP: 10.10.0.24                                                                                                                                                                            │
│  │  • Data Disk: 100 GB                                                                                                                                                                                  │
│  │  • SA: monitoring@hermes-dev-416304 (Full Cloud Platform)                                                                                                                                             │
│  │                                                                                                                                                                                                       │
│  └─ app-trivy (e2-medium) - Vulnerability Scanner                                                                                                                                                        │
│     • Internal IP: 10.10.0.12                                                                                                                                                                            │
│                                                                                                                                                                                                          │
│  Security & Compliance:                                                                                                                                                                                  │
│  ├─ app-freeipa (e2-medium) - Identity Management                                                                                                                                                        │
│  │  • Internal IP: 10.10.0.6                                                                                                                                                                             │
│  │                                                                                                                                                                                                       │
│  └─ app-sonar-dasboard (e2-small) - Code Quality Analysis                                                                                                                                                │
│     • Internal IP: 10.10.0.30                                                                                                                                                                            │
│     • Scheduled: schedule-sonar-dashboard                                                                                                                                                                │
│                                                                                                                                                                                                          │
│  Agent & Workflow:                                                                                                                                                                                       │
│  ├─ app-agent-supabase (e2-medium) - Supabase Instance                                                                                                                                                   │
│  │  • Internal IP: 10.10.0.53                                                                                                                                                                            │
│  │  • Data Disk: 30 GB (supabase-data)                                                                                                                                                                   │
│  │                                                                                                                                                                                                       │
│  └─ app-agent-workflow (e2-medium) - n8n Workflow Engine                                                                                                                                                 │
│     • External IP: 34.128.112.172                                                                                                                                                                        │
│     • Internal IP: 10.10.0.91                                                                                                                                                                            │
│     • Data Disk: 20 GB (n8n-data)                                                                                                                                                                        │
│                                                                                                                                                                                                          │
│  Application Servers (Demo/Dev):                                                                                                                                                                         │
│  ├─ app-blink (e2-small) - NobuLink Application                                                                                                                                                          │
│  │  • Internal IP: 10.10.0.197                                                                                                                                                                           │
│  │  • Scheduled: apps-vm-scheduler                                                                                                                                                                       │
│  │                                                                                                                                                                                                       │
│  ├─ app-blink-demo-jvnr (e2-medium) - NobuLink Demo                                                                                                                                                      │
│  │  • External IP: 35.219.89.96                                                                                                                                                                          │
│  │  • Network: default (isolated)                                                                                                                                                                        │
│  │                                                                                                                                                                                                       │
│  ├─ app-loyalty (e2-medium) - Loyalty System                                                                                                                                                             │
│  │  • Internal IP: 10.10.0.103                                                                                                                                                                           │
│  │                                                                                                                                                                                                       │
│  ├─ app-neobiz-1 (e2-small) - NoBizz Application                                                                                                                                                         │
│  │  • Internal IP: 10.10.0.51                                                                                                                                                                            │
│  │  • Scheduled: apps-vm-scheduler                                                                                                                                                                       │
│  │                                                                                                                                                                                                       │
│  ├─ app-obk-1 (e2-small) - OBK Application                                                                                                                                                               │
│  │  • Internal IP: 10.10.0.52                                                                                                                                                                            │
│  │  • Scheduled: apps-vm-scheduler                                                                                                                                                                       │
│  │                                                                                                                                                                                                       │
│  ├─ app-mgpr (e2-small) - MGPR Application                                                                                                                                                               │
│  │  • Internal IP: 10.10.0.54                                                                                                                                                                            │
│  │  • Scheduled: apps-vm-scheduler                                                                                                                                                                       │
│  │                                                                                                                                                                                                       │
│  ├─ app-prr (e2-small) - PRR Application                                                                                                                                                                 │
│  │  • Internal IP: 10.10.0.76                                                                                                                                                                            │
│  │  • Scheduled: apps-vm-scheduler                                                                                                                                                                       │
│  │                                                                                                                                                                                                       │
│  ├─ app-scf (e2-medium) - SCF Application                                                                                                                                                                │
│  │  • Internal IP: 10.10.0.77                                                                                                                                                                            │
│  │  • Scheduled: apps-vm-scheduler                                                                                                                                                                       │
│  │                                                                                                                                                                                                       │
│  ├─ app-superapps (e2-medium) - Super Apps Platform                                                                                                                                                      │
│  │  • Internal IP: 10.10.0.200                                                                                                                                                                           │
│  │  • Scheduled: apps-vm-scheduler                                                                                                                                                                       │
│  │                                                                                                                                                                                                       │
│  ├─ app-tokomama (e2-small) - TokoMama E-commerce                                                                                                                                                        │
│  │  • Internal IP: 10.10.0.108                                                                                                                                                                           │
│  │                                                                                                                                                                                                       │
│  ├─ app-newddt (e2-small) - DDT New Platform                                                                                                                                                             │
│  │  • Internal IP: 10.10.0.50                                                                                                                                                                            │
│  │  • SA: hermes-jenkins-deployment                                                                                                                                                                      │
│  │                                                                                                                                                                                                       │
│  └─ app-openwebui (e2-standard-2) - AI Web Interface                                                                                                                                                     │
│     • Internal IP: 10.10.0.118                                                                                                                                                                           │
│                                                                                                                                                                                                          │
│  Database & Data Services:                                                                                                                                                                               │
│  ├─ dbaiportal (e2-custom-2-4096) - AI Portal Database                                                                                                                                                   │
│  │  • Internal IP: 10.10.0.7                                                                                                                                                                             │
│  │  • Data Disk: 50 GB (dbops)                                                                                                                                                                           │
│  │  • SA: hermes-rundeck-tf-sa (Full Cloud Platform)                                                                                                                                                     │
│  │                                                                                                                                                                                                       │
│  ├─ db-showcase (e2-medium) - Showcase Environment DB                                                                                                                                                    │
│  │  • Internal IP: 10.10.0.196                                                                                                                                                                           │
│  │  • Data Disks:                                                                                                                                                                                        │
│  │     ├─ PostgreSQL: 20 GB                                                                                                                                                                              │
│  │     ├─ MongoDB: 20 GB                                                                                                                                                                                 │
│  │     ├─ MySQL: 20 GB                                                                                                                                                                                   │
│  │     └─ Redis: 10 GB                                                                                                                                                                                   │
│  │                                                                                                                                                                                                       │
│  └─ app-sonar (e2-medium) [Zone: asia-southeast2-b]                                                                                                                                                      │
│     • Internal IP: 10.10.0.15                                                                                                                                                                            │
│     • SonarQube Code Analysis                                                                                                                                                                            │
│                                                                                                                                                                                                          │
│  Communication:                                                                                                                                                                                          │
│  └─ app-smtp-digdayatech (e2-small) - SMTP Server                                                                                                                                                        │
│     • External IP: 35.219.40.183 (Standard Tier)                                                                                                                                                         │
│     • Internal IP: 10.10.0.4                                                                                                                                                                             │
│                                                                                                                                                                                                          │
│  TERMINATED/STOPPED (11):                                                                                                                                                                                │
│  ├─ app-gws-tf-database-1 (n2-standard-16) - Windows                                                                                                                                                     │
│  ├─ app-gws-tf-database-2 (n2-standard-16) - Windows                                                                                                                                                     │
│  ├─ app-gws-tf-node-1 (n2-standard-8) - Windows                                                                                                                                                          │
│  ├─ app-gws-tf-node-2 (n2-standard-8) - Windows                                                                                                                                                          │
│  ├─ app-gws-tf-platform (n1-standard-4) - Windows                                                                                                                                                        │
│  ├─ app-jenkins-cis (e2-medium) - CIS Hardened Jenkins                                                                                                                                                   │
│  ├─ app-wazuh (e2-standard-4) - Security Monitoring                                                                                                                                                      │
│  ├─ app-test-athena-cis (e2-medium)                                                                                                                                                                      │
│  ├─ app-test-spot (e2-small) - Spot Instance Test                                                                                                                                                        │
│  ├─ psql-berkah-rejeki-dev-001 (e2-custom-2-4096)                                                                                                                                                        │
│  └─ psql-sumber-rejeki-dev-001 (e2-custom-2-4096)                                                                                                                                                        │
│                                                                                                                                                                                                          │
│  ┌─────────────────────────────────────────────────────────────────────────┐                                                                                                                             │
│  │                       STORAGE BUCKETS (11)                               │                                                                                                                            │
│  └─────────────────────────────────────────────────────────────────────────┘                                                                                                                             │
│                                                                                                                                                                                                          │
│  ├─ app-workspaces - Workspace Storage                                                                                                                                                                   │
│  ├─ blink-hermes - Blink Application Data                                                                                                                                                                │
│  ├─ blink-hermes-asset - Blink Public Assets (CORS enabled)                                                                                                                                              │
│  ├─ dba-bucket-hermes - DBA Operations                                                                                                                                                                   │
│  ├─ dbops-tfstate - Terraform State Storage                                                                                                                                                              │
│  ├─ ddt-n8n-database - N8N Database Backups (COLDLINE)                                                                                                                                                   │
│  ├─ ddt-n8n-workflow - N8N Workflow Backups (ARCHIVE, Versioned)                                                                                                                                         │
│  ├─ one-mobile-bucket - One Mobile Application (Public Read)                                                                                                                                             │
│  ├─ scf-hermes-priv - SCF Private Storage                                                                                                                                                                │
│  ├─ scf-hermes-pub - SCF Public Storage                                                                                                                                                                  │
│  └─ thanos-hermes - Long-term Metrics Storage                                                                                                                                                            │
│                                                                                                                                                                                                          │
│  ┌─────────────────────────────────────────────────────────────────────────┐                                                                                                                             │
│  │                          TRAFFIC FLOW                                    │                                                                                                                            │
│  └─────────────────────────────────────────────────────────────────────────┘                                                                                                                             │
│                                                                                                                                                                                                          │
│  EXTERNAL → Internal Applications:                                                                                                                                                                       │
│     Internet                                                                                                                                                                                             │
│        │                                                                                                                                                                                                 │
│        ├→ [VPN] bastion-pritunl → Internal Network                                                                                                                                                       │
│        │                                                                                                                                                                                                 │
│        └→ [LB] 34.101.42.49:443/80                                                                                                                                                                       │
│           └→ fe-lb-app-tools-pub → Backend Services                                                                                                                                                      │
│                                                                                                                                                                                                          │
│  Internal Applications:                                                                                                                                                                                  │
│     vpc-hermes-dev (10.10.0.0/24)                                                                                                                                                                        │
│        │                                                                                                                                                                                                 │
│        ├→ [ILB] 10.10.0.123:80                                                                                                                                                                           │
│        │  └→ Internal App Services                                                                                                                                                                       │
│        │                                                                                                                                                                                                 │
│        ├→ DevOps Tools (Jenkins, Rundeck, Grafana)                                                                                                                                                       │
│        ├→ Application VMs (Blink, Loyalty, etc.)                                                                                                                                                         │
│        └→ Database Instances                                                                                                                                                                             │
│                                                                                                                                                                                                          │
│  Cross-Project Communication:                                                                                                                                                                            │
│     vpc-hermes-dev                                                                                                                                                                                       │
│        ├─[Peering]→ athena-dev (Bi-directional)                                                                                                                                                          │
│        ├─[Peering]→ athena-prod (Import only)                                                                                                                                                            │
│        └─[Peering]→ icarus-dev (Bi-directional)                                                                                                                                                          │
│                                                                                                                                                                                                          │
│  ┌─────────────────────────────────────────────────────────────────────────┐                                                                                                                             │
│  │                      KEY CHARACTERISTICS                                 │                                                                                                                            │
│  └─────────────────────────────────────────────────────────────────────────┘                                                                                                                             │
│                                                                                                                                                                                                          │
│  Resource Policies:                                                                                                                                                                                      │
│  • apps-vm-scheduler - Auto start/stop for cost optimization                                                                                                                                             │
│  • devops-services - Schedule for DevOps tools                                                                                                                                                           │
│  • schedule-sonar-dashboard - SonarQube scheduling                                                                                                                                                       │
│                                                                                                                                                                                                          │
│  Service Accounts:                                                                                                                                                                                       │
│  • hermes-rundeck-tf-sa - Full cloud platform access (Rundeck automation)                                                                                                                                │
│  • docker-pull-sa - Container registry access                                                                                                                                                            │
│  • hermes-jenkins-deployment - Jenkins deployment permissions                                                                                                                                            │
│  • monitoring@hermes-dev-416304 - Metrics collection                                                                                                                                                     │
│                                                                                                                                                                                                          │
│  Cost Optimization:                                                                                                                                                                                      │
│  • 11 VMs on scheduled start/stop (apps-vm-scheduler)                                                                                                                                                    │
│  • 1 Spot/Preemptible instance (terminated)                                                                                                                                                              │
│  • Multiple e2-small instances for dev workloads                                                                                                                                                         │
│  • COLDLINE/ARCHIVE storage for backups                                                                                                                                                                  │
│                                                                                                                                                                                                          │
│  Security Features:                                                                                                                                                                                      │
│  • VPC Peering for secure cross-project communication                                                                                                                                                    │
│  • Private Service Connect (PSC) endpoint                                                                                                                                                                │
│  • FreeIPA for centralized identity                                                                                                                                                                      │
│  • All VMs use private IPs (except bastion + select apps)                                                                                                                                                │
│  • Public access prevention on most buckets                                                                                                                                                              │
│  ```                                                                                                                                                                                                     │
│                                                                                                                                                                                                          │
│  Infrastructure Summary:                                                                                                                                                                                 │
│                                                                                                                                                                                                          │
│  **Strengths:**                                                                                                                                                                                          │
│  ✓ Well-organized VPC peering for multi-project architecture                                                                                                                                             │
│  ✓ Proper separation: DevOps tools, Apps, Databases                                                                                                                                                      │
│  ✓ Cost optimization with VM scheduling                                                                                                                                                                  │
│  ✓ Load balancer separation (internal/external)                                                                                                                                                          │
│  ✓ Centralized monitoring (Grafana, Thanos, Prometheus)                                                                                                                                                  │
│  ✓ Security hardening (CIS images, FreeIPA)                                                                                                                                                              │
│                                                                                                                                                                                                          │
│  **Areas for Attention:**                                                                                                                                                                                │
│  ⚠ 11 instances currently TERMINATED/STOPPED (mostly Windows GWS migration servers)                                                                                                                      │
│  ⚠ Mixed use of default and custom VPCs                                                                                                                                                                  │
│  ⚠ Some VMs have public IPs that could be behind NAT Gateway                                                                                                                                             │
│  ⚠ Resource policies on scheduled VMs - verify alignment with business hours                                                                                                                             │
│                                                                                                                                                                                                          │
│  **Key Projects:**                                                                                                                                                                                       │
│  • Blink/NobuLink - E-wallet/fintech platform                                                                                                                                                            │
│  • Demo Applications - PRR, SCF, MGPR, OBK, Loyalty                                                                                                                                                      │
│  • GWS Migration - Large Windows VMs (currently stopped)                                                                                                                                                 │
│  • DevOps Stack - Complete CI/CD + monitoring pipeline                                                                                                                                                   │
│                                                                                                                                                                                                          │
│  Would you like me to dive deeper into any specific component, network configuration, or provide recommendations for optimization?                                                                       │
│                                                                                                                                                                                                          │
╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯